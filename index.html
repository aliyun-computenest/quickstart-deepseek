<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="计算巢是阿里云开放给企业应用服务商的服务管理平台。服务商能够在计算巢上发布私有化部署服务，为其客户提供云上软件一键部署的能力；同时也支持全托管模式的服务，赋能服务商托管其客户资源。">
  <title>DeepSeek R1单机版部署文档 - Aliyun 计算巢 x Demo</title>

  <link rel="shortcut icon" href="img/favicon.ico">

  <link rel="stylesheet" href="https://unpkg.com/purecss@1.0.0/build/pure-min.css">
  <link rel="stylesheet" href="css/theme.css">
  

  

  
  

  
    <script src="search/main.js"></script>
  

  

  <script src="js/highlight.min.js"></script>
  <script>hljs.highlightAll();</script>
</head>

<body>
  <div class="container">
    <div class="nav">
      <div class="nav-inner">
        <div class="logo">
          <img src="./img/logo-2x.png">
        </div>
        <div class="nav-list">
          <ul>
          
              <li><a href="#deepseek-r1">DeepSeek R1单机版部署文档</a></li>
              
                  <li><a href="#deepseek-r1_1">DeepSeek-R1简介</a></li>
                  
              
                  <li><a href="#open-webuiollama">Open WebUI和Ollama简介</a></li>
                  
              
                  <li><a href="#_1">计费说明</a></li>
                  
              
                  <li><a href="#ram">RAM账号所需权限</a></li>
                  
              
                  <li><a href="#_2">部署流程</a></li>
                  
              
                  <li><a href="#_3">使用说明</a></li>
                  
                      <li class="li-h3"><a href="#openwebui">公网OpenWebUI地址</a></li>
                  
                      <li class="li-h3"><a href="#api">私网API地址</a></li>
                  
                      <li class="li-h3"><a href="#_4">进阶教程</a></li>
                  
              
          
          </ul>
        </div>
      </div>
    </div>
    <div class="content theme-github">
      
      <div class="content-inner">        
        
        <h1 id="deepseek-r1">DeepSeek R1单机版部署文档</h1>
<h2 id="deepseek-r1_1">DeepSeek-R1简介</h2>
<p>DeepSeek-R1是深度求索（DeepSeek）于2025年1月20日发布的开源人工智能大型语言模型。在数学、代码及推理任务上的表现与 OpenAI-o1 旗鼓相当。 DeepSeek-R1(7b)是 DeepSeek R1 的中端版本。其设计目标是将 DeepSeek R1 的强大推理能力转移到更小的模型中，以提高计算效率和部署灵活性。</p>
<h2 id="open-webuiollama">Open WebUI和Ollama简介</h2>
<p>Open WebUI 是一个功能丰富且用户友好的自托管 Web 用户界面（WebUI），它被设计用于与大型语言模型（LLMs）进行交互，特别是那些由 Ollama 或与 OpenAI API 兼容的服务所支持的模型。</p>
<p>Ollama 是一个开源项目，其主要目标是简化大型语言模型（LLMs）的部署和运行流程，使得用户能够在本地机器或私有服务器上轻松运行这些模型。</p>
<p>Open WebUI和Ollama做了集成，可以轻松在web界面上管理大模型，本服务通过Ollama运行DeepSeek-R1模型，您可以在Open WebUI中直接选择DeepSeek-R1模型进行对话。</p>
<h2 id="_1">计费说明</h2>
<p>DeepSeek社区版在阿里云上的费用主要涉及：
* 所选GPU云服务器的规格
* 磁盘容量
* 公网带宽
计费方式：按量付费（小时）或包年包月
预估费用在创建实例时可实时看到。</p>
<h2 id="ram">RAM账号所需权限</h2>
<table>
<thead>
<tr>
<th>权限策略名称</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>AliyunECSFullAccess</td>
<td>管理云服务器服务（ECS）的权限</td>
</tr>
<tr>
<td>AliyunVPCFullAccess</td>
<td>管理专有网络（VPC）的权限</td>
</tr>
<tr>
<td>AliyunROSFullAccess</td>
<td>管理资源编排服务（ROS）的权限</td>
</tr>
<tr>
<td>AliyunComputeNestUserFullAccess</td>
<td>管理计算巢服务（ComputeNest）的用户侧权限</td>
</tr>
</tbody>
</table>
<h2 id="_2">部署流程</h2>
<ol>
<li>
<p>单击<a href="https://computenest.console.aliyun.com/service/instance/create/cn-hangzhou?type=user&amp;ServiceName=DeepSeek%20R1">部署链接</a>，进入服务实例部署界面，<strong>模板选择ollama单机版，选择模型（DeepSeek-R1（内置7B，14B，32B，70B）或 DeepSeek-R1-671B（内置671B））</strong>。根据界面提示选择模型并填写参数，可以看到对应询价明细，确认参数后点击<strong>下一步：确认订单</strong>。</p>
<p>注意：
1. 如果要使用70B的模型，推荐选用64GB以上显存的规格。
2. 如果要使用轻量GPU实例规格，需要<a href="https://help.aliyun.com/zh/egs/user-guide/use-cloud-assistant-to-automatically-install-and-upgrade-grid-drivers?spm=a2c4g.11186623.help-menu-155040.d_1_5_2_1.25e67263aaXPzl">手动安装GPU驱动</a>。
<img alt="deploy.png" src="1.jpg" /></p>
</li>
<li>
<p>确认订单完成后同意服务协议并点击<strong>立即创建</strong>。</p>
</li>
<li>
<p>等待部署完成后就可以开始使用服务，进入服务实例详情点击Address访问。
    <img alt="result.png" src="3.jpg" /></p>
</li>
</ol>
<h2 id="_3">使用说明</h2>
<h3 id="openwebui">公网OpenWebUI地址</h3>
<ol>
<li>
<p>访问概览页的<strong>公网OpenWebUI地址</strong>，注册管理员账号并登录。
    <img alt="longin.png" src="4.jpg" /></p>
</li>
<li>
<p>登录成功后即可使用默认的deepseek-r1:7b模型进行对话。本服务内置了截图所示的几种参数规模的模型，默认使用7B模型，可以选择下面其他参数规模的模型。请根据购买的ECS规格显存大小进行选择，模型参数规模越大需要的显存越高，启动加载、推理会更慢，推理结果越精确智能。
    <img alt="chat.png" src="5.jpg" /></p>
</li>
</ol>
<h3 id="api">私网API地址</h3>
<ol>
<li>在和服务器同一VPC内的ECS中访问概览页的<strong>私网API地址</strong>。访问示例如下：
    <code>shell
    curl 私网API地址 -d '{
      "model": "deepseek-r1:latest",
      "prompt": "你是谁？"
    }'</code></li>
<li>如果想通过公网访问API地址，需要打开安全组11434端口，然后访问公网API地址（把私网API地址中的私网IP替换为ECS的公网IP）。访问示例如下：
    <code>shell
    curl  http://公网ip:11434/api/generate -d '{
      "model": "deepseek-r1:latest",
      "prompt": "你是谁？"
    }'</code></li>
</ol>
<h3 id="_4">进阶教程</h3>
<ul>
<li>
<p>在管理员面板中添加其他用户
    <img alt="user.png" src="6.jpg" /></p>
</li>
<li>
<p>通过面板下载其他模型，支持的模型请查看ollama官网：https://ollama.ai/library
    <img alt="model.png" src="7.jpg" /></p>
</li>
</ul>
        
      </div>

      <div class="copyrights">© 2009-2022 Aliyun.com 版权所有</div>
    </div>
  </div>
  
  <!--
  MkDocs version      : 1.6.1
  Docs Build Date UTC : 2025-02-26 06:42:23.429689+00:00
  -->
</body>
</html>